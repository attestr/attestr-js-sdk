!function(t){function e(r){if(o[r])return o[r].exports;var n=o[r]={i:r,l:!1,exports:{}};return t[r].call(n.exports,n,n.exports,e),n.l=!0,n.exports}var o={};e.m=t,e.c=o,e.d=function(t,o,r){e.o(t,o)||Object.defineProperty(t,o,{configurable:!1,enumerable:!0,get:r})},e.n=function(t){var o=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(o,"a",o),o},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=0)}([function(t,e,o){Array.prototype.indexOf&&"function"==typeof Array.prototype.indexOf||(Array.prototype.indexOf=function(t){for(var e=0;e<this.length;e++)if(this[e]===t)return e;return-1}),function(t,e){"use strict";const o=["Complete","Error","Skip"],r="https://app.attestr.com";var n=function(t){return!t},i=function(t){return!!n(t)||"function"!=typeof t},s=function(t){this._preloader=null,this._el=null,this._cr=null,this._opts=t};s.prototype.validate=function(){var t;(n(this._opts)||function(t){if(n(t))return!0;if("object"!=typeof t)return!0;for(var e in t)if(t.hasOwnProperty(e))return!1;return!0}(this._opts))&&this.onThrow.call(this,"Missing argument : opts"),i(this._opts.onFlowxError)&&this.onThrow.call(this,"Invalid argument : onFlowxError"),function(t){return!!n(t)||("string"!=typeof t||!/^[0-9a-fA-F]+$/.test(t))}(this._opts.cl)&&this.onThrow.call(this,"Invalid argument : cl"),function(t){return!!n(t)||("string"!=typeof t||!/^DS0[0-9a-zA-Z]{6,30}$/.test(t))}(this._opts.hs)&&this.onThrow.call(this,"Invalid argument : hs"),function(t){return!n(t)&&("string"!=typeof t||!/^[a-z]{2}$/.test(t))}(this._opts.lc)&&this.onThrow.call(this,"Invalid argument : lc"),i(this._opts.onFlowxComplete)&&this.onThrow.call(this,"Invalid argument : onFlowxComplete"),!n(this._opts.onFlowxSkip)&&i(this._opts.onFlowxSkip)&&this.onThrow.call(this,"Invalid argument : onFlowxSkip"),(t=this._opts.retry)&&!1!==t&&!0!==t?this.onThrow.call(this,"Invalid argument : retry"):this._opts.retry=!!this._opts.retry&&this._opts.retry},s.prototype.renderPreloader=function(){if(n(this._preloader)){var t=e.createElement("div");t.setAttribute("style","width: 100%; height: 100 % ; top: 0 px; position: fixed; z - index: 99999; background: rgb(188, 210, 238, 0.3) !important"),t.style.display="none";var o=e.createElement("svg");o.setAttribute("viewBox","25 25 50 50"),o.setAttribute("style","animation: rotate 2s linear infinite; height: 50 px; transform - origin: center center; width: 50 px; position: absolute; top: 0; bottom: 0; left: 0; right: 0; margin: auto;");var r=e.createElement("circle");r.setAttribute("cx","50"),r.setAttribute("cy","50"),r.setAttribute("r","20"),r.setAttribute("fill","none"),r.setAttribute("stroke-width","4"),r.setAttribute("stroke-miterlimit","10"),o.appendChild(r),t.appendChild(o),this._preloader=t}this._preloader.style.display="block",e.body.appendChild(this._preloader)},s.prototype.hidePreloader=function(){n(this._preloader)||(this._preloader.style.display="none",e.body.removeChild(this._preloader))},s.prototype.launchContainer=function(){n(this._cr)||this.destroyContainer(),this.createFrame();var t=e.createElement("div");t.setAttribute("style","z-index: 1000000000; position: fixed; top: 0px; display: block; left: 0px; height: 100%; width: 100%; backface-visibility: hidden;overflow-y: visible;"),t.classList.add("attestr-flowx-frame-container"),t.appendChild(this._el),this._cr=t,e.body.appendChild(this._cr)},s.prototype.destroyContainer=function(){n(this._el)||this._el.remove(),n(this._cr)||this._cr.remove(),this._el=null,this._cr=null},s.prototype.createFrame=function(){var t=e.createElement("iframe");t.name="attestr-flowx-frame",t.setAttribute("style","opacity: 1; height: 100%; position: relative; background: none; display: block; border: 0 none transparent; margin: 0px; padding: 0px; z-index: 2;"),t.width="100%",t.height="100%",t.allowTransparency=!0,t.allowfullscreen=!0,t.tabIndex=0,t.scrolling="no",t.frameBorder=0,t.sandbox="allow-forms allow-modals allow-popups allow-scripts allow-same-origin",t.allow="fullscreen "+r+"; camera "+r+"; geolocation "+r;var o=r+"/flowx#init?cl="+this._opts.cl+"&hs="+this._opts.hs;t.src=o,this._el=t;var n=this;this._el.onload=function(t){n.onLoad.call(n,t)},this._el.onerror=function(t){n.onError.call(n,{code:5021,httpStatusCode:502,message:"Gateway timeout",retry:!1})},n=this},s.prototype.close=function(){this.destroyContainer()},s.prototype.onLoad=function(){this.hidePreloader()},s.prototype.onFlowxReady=function(){this._el&&this._el.contentWindow&&this._el.contentWindow.postMessage(JSON.stringify({action:"init",data:{lc:this._opts.lc,qr:this._opts.qr,retry:this._opts.retry}}),"*")},s.prototype.onFlowxComplete=function(t){this.close(),this._opts.onFlowxComplete.call(this,t)},s.prototype.onFlowxSkip=function(t){this.close(),n(this._opts.onFlowxSkip)||"function"!=typeof this._opts.onFlowxSkip||this._opts.onFlowxSkip.call(this,t)},s.prototype.onFlowxError=function(t){this.close(),this._opts.onFlowxError.call(this,t)},s.prototype.onMessage=function(t){var e=function(t){try{return JSON.parse(t.data)}catch(t){}}(t);if(!n(e)&&t.origin===r){var o=null;o=this["on"+e.action],n(o)||o.call(this,e.data)}},s.prototype.onThrow=function(t){throw console.error(t),new Error(t)},s.prototype.addEventListeners=function(){for(var t=this,e=0;e<o.length;e++){var r=o[r];n(t._el.contentWindow)||t._el.contentWindow.addEventListener("flowx-"+r.toLowerCase(),function(e){t._el.contentWindow.parent.postMessage(JSON.stringify({action:r,data:e.detail}),"*")})}};var l=function(e){var o=this;this._fx0=new s(e);var r=t.addEventListener?"addEventListener":"attachEvent";(0,t[r])("attachEvent"==r?"onmessage":"message",function(t){o._fx0.onMessage(t)})};l.prototype.launch=function(){this._fx0.renderPreloader(),this._fx0.validate(),this._fx0.launchContainer()},t.AttestrFlowx=l}(window,window.document)}]);